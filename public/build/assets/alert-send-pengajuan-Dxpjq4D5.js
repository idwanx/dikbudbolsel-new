import{c as $,r as L,b as N,j as t}from"./app-2dZOHQHS.js";import{g as z,b as H,c as U,a as Y,d as q,f as G,D as J}from"./dialog-BzZOWdye.js";import{B as D}from"./button-sLxi5MKl.js";import{S as P}from"./spinner-DnoGRQw3.js";import{b as A}from"./index-Bjtfn84y.js";import{t as w}from"./index-B1vyps4-.js";import{c as I}from"./createLucideIcon-DtpxnDkb.js";/* empty css            */import"./utils-Z01X30rl.js";import"./x-DYp65Y98.js";import"./index-DKr3GQ2g.js";import"./index-BoXPM41V.js";import"./index-DeNnTOfD.js";import"./index-CYU-rGDi.js";import"./index-CNf3JV2e.js";import"./loader-circle-an6u7t3F.js";import"./index-DE4duBNV.js";const Q=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],F=I("send",Q);const V=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],W=I("undo",V);function be(a){const e=$.c(38),{nomor:C,loadingSend:r,isLoading:o,lengthRincian:j,isSend:T,status:b}=a,[B,R]=L.useState(!1),[n,O]=L.useState("kirim");let s,i,l;if(e[0]!==r||e[1]!==n){i=x=>{e:switch(n){case"batal":{s(!1),N.visit(A.pengajuan.batalKirim(x).url,{method:"patch",replace:!0,preserveState:!0,preserveScroll:!0,onStart:()=>{r(!0)},onSuccess:ee,onError:()=>{r(!1)},onFinish:()=>{r(!1)}});break e}default:s(!1),N.visit(A.pengajuan.kirimRincian(x).url,{method:"patch",replace:!0,preserveState:!0,preserveScroll:!0,onStart:()=>{r(!0)},onSuccess:Z,onError:()=>{r(!1)},onFinish:()=>{r(!1)}})}};let _;e[5]===Symbol.for("react.memo_cache_sentinel")?(_=x=>{O(x),R(!0)},e[5]=_):_=e[5],l=_,s=x=>{R(x)},e[0]=r,e[1]=n,e[2]=s,e[3]=i,e[4]=l}else s=e[2],i=e[3],l=e[4];let c;e[6]!==o||e[7]!==T||e[8]!==j||e[9]!==l||e[10]!==b?(c=b==="draft"?t.jsxs(D,{type:"button",onClick:()=>l("kirim"),disabled:o||j<1,children:[o?t.jsx(P,{}):t.jsx(F,{}),"Kirim"]}):T&&b!=="divalidasi"||b!=="disetujui"?t.jsxs(D,{type:"button",onClick:()=>l("batal"),disabled:o||j<1,children:[o?t.jsx(P,{}):t.jsx(W,{}),"Batal"]}):"",e[6]=o,e[7]=T,e[8]=j,e[9]=l,e[10]=b,e[11]=c):c=e[11];let m;e[12]!==c?(m=t.jsx(z,{asChild:!0,children:c}),e[12]=c,e[13]=m):m=e[13];let v;e[14]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-foreground",children:t.jsx(F,{className:"h-6 w-6 text-primary-foreground"})})}),e[14]=v):v=e[14];const E=n==="batal"?"Batalkan pengajuan":"Kirim pengajuan";let d;e[15]!==E?(d=t.jsx(H,{className:"text-balance text-center",children:E}),e[15]=E,e[16]=d):d=e[16];const K=n==="batal"?"dibatalkan ?":"dikirim ?";let k;e[17]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx("br",{}),e[17]=k):k=e[17];let u;e[18]!==K?(u=t.jsxs(U,{className:"text-pretty py-6 text-center mx-auto",children:["Apakah anda yakin pengajuan akan ",K,k,"Tindakan ini tidak dapat dibatalkan."]}),e[18]=K,e[19]=u):u=e[19];let f;e[20]!==d||e[21]!==u?(f=t.jsxs(Y,{className:"text-center gap-0",children:[d,u]}),e[20]=d,e[21]=u,e[22]=f):f=e[22];let y;e[23]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx(q,{asChild:!0,children:t.jsx(D,{variant:"outline",className:"flex-1 w-full",children:"Batal"})}),e[23]=y):y=e[23];let p;e[24]!==i||e[25]!==C?(p=()=>i(C),e[24]=i,e[25]=C,e[26]=p):p=e[26];const M=n==="batal"?"Ya, batalkan":"Kirim";let g;e[27]!==p||e[28]!==M?(g=t.jsxs("div",{className:"flex gap-2 flex-col sm:flex-row w-full sm:gap-3",children:[y,t.jsx(D,{type:"button",onClick:p,className:"flex-1 w-full",children:M})]}),e[27]=p,e[28]=M,e[29]=g):g=e[29];let h;e[30]!==g||e[31]!==f?(h=t.jsxs(G,{className:"sm:max-w-sm flex flex-col items-center",onInteractOutside:X,children:[v,f,g]}),e[30]=g,e[31]=f,e[32]=h):h=e[32];let S;return e[33]!==B||e[34]!==s||e[35]!==h||e[36]!==m?(S=t.jsxs(J,{open:B,onOpenChange:s,children:[m,h]}),e[33]=B,e[34]=s,e[35]=h,e[36]=m,e[37]=S):S=e[37],S}function X(a){a.preventDefault()}function Z(a){a.flash.status==="success"?(N.reload({only:["daftarPengajuan"]}),w.success(a.flash.message,{position:"bottom-center",style:{"--normal-bg":"var(--background)","--normal-text":"light-dark(var(--color-green-600), var(--color-green-400))","--normal-border":"light-dark(var(--color-green-600), var(--color-green-400))"}})):w.error(a.flash.message,{position:"bottom-center",style:{"--normal-bg":"var(--background)","--normal-text":"var(--destructive)","--normal-border":"var(--destructive)"}})}function ee(a){a.flash.status==="success"?(N.reload({only:["daftarPengajuan"]}),w.success(a.flash.message,{position:"bottom-center",style:{"--normal-bg":"var(--background)","--normal-text":"light-dark(var(--color-green-600), var(--color-green-400))","--normal-border":"light-dark(var(--color-green-600), var(--color-green-400))"}})):w.error(a.flash.message,{position:"bottom-center",style:{"--normal-bg":"var(--background)","--normal-text":"var(--destructive)","--normal-border":"var(--destructive)"}})}export{be as AlertSendPengajuan};
