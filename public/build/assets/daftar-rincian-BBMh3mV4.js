import{c as ne,r as Q,j as t,b as oe}from"./app-BmjE4qHc.js";import{A as ce}from"./app-layout-BWGdRdwF.js";import me from"./layout-bos-CVeTcVzH.js";import{b as z,e as r,c as S,a as de,d as pe,f as xe,T as he}from"./table-D_NsdWVl.js";import fe from"./main-pengajuan-Cdw4L2xG.js";import{B as Z}from"./button-CtRS0eYr.js";import{LabelStatusRincian as ue}from"./label-status-rincian-CrNJcCYU.js";import{H as je}from"./heading-DYeO5BvG.js";import{a as ge}from"./sidebar-CF1TP3V7.js";import{C as ee}from"./checkbox-BfDndSGL.js";import{b as be}from"./index-Bjtfn84y.js";import{t as te}from"./index-CYBlxLl_.js";import{c as Ne}from"./createLucideIcon-BpTZnawq.js";import{C as ke}from"./check-Jpv3Fbn6.js";/* empty css            */import"./index-B1jbRznW.js";import"./index-CoEL1NMK.js";import"./index-3XPLMKAL.js";import"./index-CP4RxH5M.js";import"./utils-Z01X30rl.js";import"./dropdown-menu-ryInEKCQ.js";import"./index-DO66YXDH.js";import"./index-CHpzqecV.js";import"./index-CmSV1ypQ.js";import"./index-DsnB32T4.js";import"./navigation-menu-Cw6p_Oa1.js";import"./index-Brv9dHSm.js";import"./index-cU6byvkw.js";import"./index-CNf3JV2e.js";import"./index-CleoUsKg.js";import"./index-DE4duBNV.js";import"./app-logo-icon-BT25z4x1.js";import"./search-CUfqf_UX.js";import"./collapsible-DPGUB7-u.js";import"./notepad-text-Ck5OW-y4.js";import"./chevron-right-CMYwhQsM.js";import"./chevrons-up-down-C7XtSiWA.js";import"./app-sidebar-header-Bkqt0NAg.js";import"./breadcrumb-B6NSajAW.js";import"./sidebar-sekolah-BFJpPtZa.js";import"./sidebar-pengajuan-B8i6_LNF.js";import"./alert-destroy-pengajuan-Dyk_2Nuy.js";import"./dialog-zeliSnxa.js";import"./x-HMQ0LoDr.js";import"./spinner-DYtEdZg-.js";import"./loader-circle-UngkA1dQ.js";import"./trash-2-7NjV4gTV.js";import"./badge-DbuDkPUf.js";import"./plus-BvO0qPOk.js";const Se=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_e=Ne("chevron-left",Se);function ve(a){const e=ne.c(57),{auth:W,sekolah:X,pengajuan:o,rincianPengajuan:c}=a,[l,se]=Q.useState(c);let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_=[],e[0]=_):_=e[0];const[i,Y]=Q.useState(_);W.user.roleuser.slug==="admin"||W.user.roleuser.slug;let v;e[1]!==l?(v=l?.reduce(Te,0),e[1]=l,e[2]=v):v=e[2];const ae=v,re=Re;let w;e[3]!==l?(w=s=>{Y(s?l.map(Ce):[])},e[3]=l,e[4]=w):w=e[4];const M=w;let y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y=s=>{Y(n=>n.includes(s)?n.filter(ie=>ie!==s):[...n,s])},e[5]=y):y=e[5];const le=y;let C,R;e[6]!==c?(C=()=>(c&&se(c),ye),R=[c],e[6]=c,e[7]=C,e[8]=R):(C=e[7],R=e[8]),Q.useEffect(C,R);let T;e[9]!==o.slug||e[10]!==i?(T=()=>{oe.post(be.transaksi.validasi(o.slug).url,{data:i},{preserveScroll:!0,onSuccess:we})},e[9]=o.slug,e[10]=i,e[11]=T):T=e[11];const U=T,q=`Rincian Pengajuan ${X?X?.nama_sekolah:""}`;let m;e[12]!==q?(m=t.jsx(je,{title:q,description:"Kelola data pengajuan pada tabel dibawah ini."}),e[12]=q,e[13]=m):m=e[13];let L;e[14]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx("div",{className:"ml-auto",children:t.jsx(Z,{size:"icon-sm","aria-label":"Submit",variant:"outline",onClick:re,children:t.jsx(_e,{})})}),e[14]=L):L=e[14];let d;e[15]!==m?(d=t.jsxs("div",{className:"flex",children:[m,L]}),e[15]=m,e[16]=d):d=e[16];let I;e[17]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(ge,{className:"mb-4"}),e[17]=I):I=e[17];let p;e[18]!==o.no_pengajuan?(p=t.jsx("div",{className:"flex py-2 items-center",children:t.jsxs("p",{className:"text-sm",children:["No."," ",o.no_pengajuan]})}),e[18]=o.no_pengajuan,e[19]=p):p=e[19];let P,B,E,H,A;e[20]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx(S,{className:"w-3 text-center",children:"No"}),B=t.jsx(S,{children:"Uraian"}),E=t.jsx(S,{className:"w-50 2xl:w-60",children:"Penerima"}),H=t.jsx(S,{className:"w-20 2xl:w-40 text-right",children:"Nominal"}),A=t.jsx(S,{className:"w-20 2xl:w-30 text-center",children:"Status"}),e[20]=P,e[21]=B,e[22]=E,e[23]=H,e[24]=A):(P=e[20],B=e[21],E=e[22],H=e[23],A=e[24]);const G=i.length>0;let x;e[25]!==M?(x=s=>M(s),e[25]=M,e[26]=x):x=e[26];let h;e[27]!==G||e[28]!==x?(h=t.jsx(de,{children:t.jsxs(z,{children:[P,B,E,H,A,t.jsx(S,{className:"w-12 2xl:w-20 text-center",children:t.jsx(ee,{id:"validasi",checked:G,onCheckedChange:x,className:"mr-2"})})]})}),e[27]=G,e[28]=x,e[29]=h):h=e[29];let f;e[30]!==i||e[31]!==l?(f=l?.length>0?l.map((s,n)=>t.jsxs(z,{children:[t.jsx(r,{className:"text-center",children:n+1}),t.jsx(r,{className:"whitespace-normal",children:s.uraian}),t.jsxs(r,{className:"whitespace-normal",children:[t.jsx("p",{children:s.nama_penerima}),t.jsx("p",{className:"text-xs text-muted-foreground",children:s.nama_bank}),t.jsx("p",{className:"text-xs text-muted-foreground",children:s.no_rekening})]}),t.jsx(r,{className:"font-mono text-right",children:Number(s.nominal).toLocaleString("id-ID")}),t.jsx(r,{className:"text-center",children:t.jsx(ue,{status:s.status})}),t.jsx(r,{className:"text-center",children:t.jsx(ee,{checked:i.includes(s.id),onCheckedChange:()=>le(s.id),className:"mr-2"},n)})]},n)):t.jsx(z,{children:t.jsx(r,{colSpan:6,className:"text-muted-foreground",children:"Tidak ada rincian, Klik tombol (+ Rincian) untuk menambah rincian baru."})}),e[30]=i,e[31]=l,e[32]=f):f=e[32];let u;e[33]!==f?(u=t.jsx(pe,{children:f}),e[33]=f,e[34]=u):u=e[34];let D;e[35]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(r,{colSpan:3,className:"text-right",children:"Total"}),e[35]=D):D=e[35];const J=Number(ae);let j;e[36]!==J?(j=J.toLocaleString("id-ID"),e[36]=J,e[37]=j):j=e[37];let g;e[38]!==j?(g=t.jsx(r,{className:"font-mono text-right",children:j}),e[38]=j,e[39]=g):g=e[39];let F,K;e[40]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(r,{className:"text-center",children:"-"}),K=t.jsx(r,{className:"text-center",children:"-"}),e[40]=F,e[41]=K):(F=e[40],K=e[41]);let b;e[42]!==g?(b=t.jsx(xe,{children:t.jsxs(z,{children:[D,g,F,K]})}),e[42]=g,e[43]=b):b=e[43];let N;e[44]!==h||e[45]!==u||e[46]!==b?(N=t.jsxs(he,{children:[h,u,b]}),e[44]=h,e[45]=u,e[46]=b,e[47]=N):N=e[47];const O=i.length<1;let V;e[48]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx(ke,{}),e[48]=V):V=e[48];let k;e[49]!==U||e[50]!==O?(k=t.jsx("div",{className:"flex flex-row-reverse pt-4",children:t.jsxs(Z,{onClick:U,disabled:O,children:[V," Validasi"]})}),e[49]=U,e[50]=O,e[51]=k):k=e[51];let $;return e[52]!==d||e[53]!==p||e[54]!==N||e[55]!==k?($=t.jsxs(t.Fragment,{children:[d,I,p,N,k]}),e[52]=d,e[53]=p,e[54]=N,e[55]=k,e[56]=$):$=e[56],$}function we(a){a.flash.status==="success"?te.success(a.flash.message,{position:"bottom-center",style:{"--normal-bg":"var(--background)","--normal-text":"light-dark(var(--color-green-600), var(--color-green-400))","--normal-border":"light-dark(var(--color-green-600), var(--color-green-400))"}}):te.error(a.flash.message,{position:"bottom-center",style:{"--normal-bg":"var(--background)","--normal-text":"var(--destructive)","--normal-border":"var(--destructive)"}})}function ye(){}function Ce(a){return a.id}function Re(){window.history.back()}function Te(a,e){return a+e.nominal}ve.layout=a=>t.jsx(ce,{children:t.jsx(me,{children:t.jsx(fe,{children:a})})});export{ve as default};
