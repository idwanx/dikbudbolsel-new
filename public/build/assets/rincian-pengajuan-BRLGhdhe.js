import{c as Q,r as h,j as t}from"./app-2dZOHQHS.js";import{A as W}from"./app-layout-DavPZANZ.js";import{L as X}from"./layout-bos-XwgKse0t.js";import{T as Y,a as Z,b as T,c as u,d as ee,e as s,f as te}from"./table-CG53ywLw.js";import ae from"./main-pengajuan-C5nO0MaX.js";import{B as P}from"./button-sLxi5MKl.js";import{D as K}from"./dialog-BzZOWdye.js";import{AlertDestroyRincian as ne}from"./alert-destroy-rincian-DtAUb5oe.js";import{AlertSendPengajuan as se}from"./alert-send-pengajuan-Dxpjq4D5.js";import{b as ie}from"./index-Bjtfn84y.js";import{LabelStatusRincian as oe}from"./label-status-rincian-DZ210j82.js";import{H as re}from"./heading-BeOoVLRV.js";import{a as le}from"./sidebar-CLtqQfIw.js";import{DialogNewRincian as ce}from"./dialog-new-rincian-BHKBJrzk.js";import{P as me}from"./plus-BLgTcSQx.js";import{T as de}from"./trash-2-DCuX_12z.js";import{c as V}from"./createLucideIcon-DtpxnDkb.js";/* empty css            */import"./index-CYU-rGDi.js";import"./index-BoXPM41V.js";import"./index-DeNnTOfD.js";import"./index-BREDOwGZ.js";import"./utils-Z01X30rl.js";import"./dropdown-menu-CuLQyx2L.js";import"./index-LTGU2eql.js";import"./index-DKr3GQ2g.js";import"./index-DDDHIBdL.js";import"./index-GHaXFBl2.js";import"./navigation-menu-BvKNKsb-.js";import"./index-CavhLMQu.js";import"./index-C9WkWROl.js";import"./index-CNf3JV2e.js";import"./index-CleoUsKg.js";import"./index-DE4duBNV.js";import"./app-logo-icon-DpZOM0au.js";import"./search-Ce9wZWsj.js";import"./index-B1vyps4-.js";import"./collapsible-Ct_mG9Vi.js";import"./notepad-text-Dmu72RxH.js";import"./chevron-right-CoXJ5uGj.js";import"./check-CXyVIhbl.js";import"./chevrons-up-down-CTwsHFNb.js";import"./app-sidebar-header-CelUfnE3.js";import"./breadcrumb-DX0MO9O3.js";import"./sidebar-sekolah--1gFhWpT.js";import"./sidebar-pengajuan-BkiCWyBQ.js";import"./alert-destroy-pengajuan-CO7ppn6o.js";import"./spinner-DnoGRQw3.js";import"./loader-circle-an6u7t3F.js";import"./badge-DqfNzj98.js";import"./x-DYp65Y98.js";import"./label-u4kbS4Ol.js";import"./select-BdFy3JjD.js";import"./input-ifGAVos9.js";import"./alert-DBi7XABc.js";import"./validation-errors-CKDNbNZd.js";import"./index-BLNZHage.js";import"./app-sidebar-2ydBaaoD.js";const pe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],xe=V("download",pe);const he=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ue=V("lock",he);function je(j){const e=Q.c(37),{rincianPengajuan:i,nomor:o,pengajuan:n}=j,[r,$]=h.useState(i),[l,B]=h.useState(!1),[L,E]=h.useState(!1),[H,M]=h.useState(null),[C,O]=h.useState(!1);let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{B(!0)},e[0]=f):f=e[0];const U=f;let g;e[1]===Symbol.for("react.memo_cache_sentinel")?(g=a=>{B(a)},e[1]=g):g=e[1];const q=g;let b;e[2]===Symbol.for("react.memo_cache_sentinel")?(b=a=>{M(a),E(!0)},e[2]=b):b=e[2];const G=b;let N;e[3]===Symbol.for("react.memo_cache_sentinel")?(N=a=>{E(a),a||M(null)},e[3]=N):N=e[3];const z=N;let w;e[4]===Symbol.for("react.memo_cache_sentinel")?(w=a=>{O(a)},e[4]=w):w=e[4];const J=w;let k;e[5]!==r?(k=r?.reduce(ge,0),e[5]=r,e[6]=k):k=e[6];const F=k;let y,S;e[7]!==i?(y=()=>(i&&$(i),fe),S=[i],e[7]=i,e[8]=y,e[9]=S):(y=e[8],S=e[9]),h.useEffect(y,S);let _;e[10]!==o?(_=()=>{window.location.href=ie.pengajuan.downloadRincian(o).url},e[10]=o,e[11]=_):_=e[11];const A=_;let c;e[12]!==l||e[13]!==n?(c=t.jsx(ce,{dialogForm:l,pengajuan:n}),e[12]=l,e[13]=n,e[14]=c):c=e[14];let m;e[15]!==l||e[16]!==c?(m=t.jsx(K,{open:l,onOpenChange:q,modal:!0,children:c}),e[15]=l,e[16]=c,e[17]=m):m=e[17];let d;e[18]!==H?(d=t.jsx(ne,{stateRincian:H,closeDialog:z}),e[18]=H,e[19]=d):d=e[19];let p;e[20]!==L||e[21]!==d?(p=t.jsx(K,{open:L,onOpenChange:z,children:d}),e[20]=L,e[21]=d,e[22]=p):p=e[22];let D,v;e[23]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx("div",{className:"flex",children:t.jsx(re,{title:"Rincian Pengajuan",description:"Kelola data pengajuan pada tabel dibawah ini."})}),v=t.jsx(le,{className:"mb-4"}),e[23]=D,e[24]=v):(D=e[23],v=e[24]);let x;e[25]!==A||e[26]!==C||e[27]!==o||e[28]!==n||e[29]!==i?.length||e[30]!==r||e[31]!==F?(x=o===null?t.jsxs("div",{className:"text-muted-foreground text-sm",children:["Silahkan klik nomor pengajuan pada sidebar disebelah kanan untuk melihat rincian pengajuan,",t.jsx("br",{}),"jika tidak tersedia silahkan klik tombol (+ Pengajuan) untuk menambahkan pengajuan baru."]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex py-2 items-center",children:[t.jsxs("p",{className:"text-sm",children:["No. ",n.no_pengajuan]}),t.jsx("div",{className:"ml-auto",children:t.jsxs(P,{variant:"outline",onClick:U,disabled:n.send_at!==null,children:[t.jsx(me,{})," Rincian"]})})]}),t.jsxs(Y,{children:[t.jsx(Z,{children:t.jsxs(T,{children:[t.jsx(u,{className:"w-8 text-center",children:"No"}),t.jsx(u,{children:"Uraian"}),t.jsx(u,{className:"w-60 2xl:w-70",children:"Penerima"}),t.jsx(u,{className:"w-20 2xl:w-40 text-right",children:"Nominal"}),t.jsx(u,{className:"w-22 2xl:w-30 text-center",children:"Status"}),t.jsx(u,{className:"w-15 2xl:w-20 text-center",children:"Pilihan"})]})}),t.jsx(ee,{children:r?.length>0?r.map((a,I)=>t.jsxs(T,{children:[t.jsx(s,{className:"text-center",children:I+1}),t.jsx(s,{className:"whitespace-normal",children:a.uraian}),t.jsxs(s,{className:"whitespace-normal",children:[t.jsx("p",{children:a.nama_penerima}),t.jsx("p",{className:"text-xs text-muted-foreground",children:a.nama_bank}),t.jsx("p",{className:"text-xs text-muted-foreground",children:a.no_rekening})]}),t.jsx(s,{className:"font-mono text-right",children:Number(a.nominal).toLocaleString("id-ID")}),t.jsx(s,{className:"text-center",children:t.jsx(oe,{status:a.status})}),t.jsx(s,{className:"text-center",children:t.jsx("div",{className:"flex justify-center",children:a.status==="draft"||a.status==="validasi"?t.jsx(P,{type:"button",variant:"outline",className:"h-7 w-7 text-red-500",size:"sm","aria-label":"Hapus",onClick:()=>G(a),children:t.jsx(de,{})}):t.jsx(P,{type:"button",variant:"outline",className:"h-7 w-7",size:"sm","aria-label":"Hapus",disabled:!0,children:t.jsx(ue,{className:"text-muted-foreground"})})})})]},I)):t.jsx(T,{children:t.jsx(s,{colSpan:6,className:"text-muted-foreground",children:"Tidak ada rincian, Klik tombol (+ Rincian) untuk menambah rincian baru."})})}),t.jsx(te,{children:t.jsxs(T,{children:[t.jsx(s,{colSpan:3,className:"text-right",children:"Total"}),t.jsx(s,{className:"font-mono text-right",children:Number(F).toLocaleString("id-ID")}),t.jsx(s,{className:"text-center",children:"-"}),t.jsx(s,{className:"text-center",children:"-"})]})})]}),t.jsxs("div",{className:"flex flex-row-reverse gap-2 pt-4",children:[n.status!=="divalidasi"&&n.status!=="disetujui"?t.jsx(se,{nomor:o,loadingSend:J,isLoading:C,lengthRincian:i?.length,isSend:n.send_at!==null,status:n.status}):"",t.jsxs(P,{variant:"outline",onClick:A,disabled:i?.length<1,children:[t.jsx(xe,{})," Download"]})]})]}),e[25]=A,e[26]=C,e[27]=o,e[28]=n,e[29]=i?.length,e[30]=r,e[31]=F,e[32]=x):x=e[32];let R;return e[33]!==m||e[34]!==p||e[35]!==x?(R=t.jsxs(t.Fragment,{children:[m,p,D,v,x]}),e[33]=m,e[34]=p,e[35]=x,e[36]=R):R=e[36],R}function fe(){}function ge(j,e){return j+e.nominal}je.layout=j=>t.jsx(W,{children:t.jsx(X,{children:t.jsx(ae,{children:j})})});export{je as default};
