import{c as H,r as P,b as N,j as t}from"./app-BmjE4qHc.js";import{g as I,b as O,c as U,a as Y,d as q,f as G,D as J}from"./dialog-zeliSnxa.js";import{B as D}from"./button-CtRS0eYr.js";import{S as A}from"./spinner-DYtEdZg-.js";import{b as F}from"./index-Bjtfn84y.js";import{t as w}from"./index-CYBlxLl_.js";import{c as z}from"./createLucideIcon-BpTZnawq.js";/* empty css            */import"./utils-Z01X30rl.js";import"./x-HMQ0LoDr.js";import"./index-CHpzqecV.js";import"./index-CoEL1NMK.js";import"./index-3XPLMKAL.js";import"./index-B1jbRznW.js";import"./index-CNf3JV2e.js";import"./loader-circle-UngkA1dQ.js";import"./index-DE4duBNV.js";const Q=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],$=z("send",Q);const V=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],W=z("undo",V);function be(a){const e=H.c(38),{nomor:C,loadingSend:r,isLoading:n,lengthRincian:j,isSend:T,status:b}=a,[B,R]=P.useState(!1),[i,L]=P.useState("kirim");let s,c,l;if(e[0]!==r||e[1]!==i){c=o=>{e:switch(i){case"batal":{s(!1),N.visit(F.pengajuan.batalKirim(o).url,{method:"patch",replace:!0,preserveState:!0,preserveScroll:!0,onStart:()=>{r(!0)},onSuccess:ee,onError:()=>{r(!1)},onFinish:()=>{r(!1)}});break e}default:s(!1),N.visit(F.pengajuan.kirimRincian(o).url,{method:"patch",replace:!0,preserveState:!0,preserveScroll:!0,onStart:()=>{r(!0)},onSuccess:Z,onError:()=>{r(!1)},onFinish:()=>{r(!1)}})}};let _;e[5]===Symbol.for("react.memo_cache_sentinel")?(_=o=>{L(o),R(!0)},e[5]=_):_=e[5],l=_,s=o=>{R(o),o||L("kirim")},e[0]=r,e[1]=i,e[2]=s,e[3]=c,e[4]=l}else s=e[2],c=e[3],l=e[4];let m;e[6]!==n||e[7]!==T||e[8]!==j||e[9]!==l||e[10]!==b?(m=b==="draft"?t.jsxs(D,{type:"button",onClick:()=>l("kirim"),disabled:n||j<1,children:[n?t.jsx(A,{}):t.jsx($,{}),"Kirim"]}):T&&b!=="divalidasi"||b!=="disetujui"?t.jsxs(D,{type:"button",onClick:()=>l("batal"),disabled:n||j<1,children:[n?t.jsx(A,{}):t.jsx(W,{}),"Batal"]}):"",e[6]=n,e[7]=T,e[8]=j,e[9]=l,e[10]=b,e[11]=m):m=e[11];let d;e[12]!==m?(d=t.jsx(I,{asChild:!0,children:m}),e[12]=m,e[13]=d):d=e[13];let v;e[14]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-foreground",children:t.jsx($,{className:"h-6 w-6 text-primary-foreground"})})}),e[14]=v):v=e[14];const E=i==="batal"?"Batalkan pengajuan":"Kirim pengajuan";let u;e[15]!==E?(u=t.jsx(O,{className:"text-balance text-center",children:E}),e[15]=E,e[16]=u):u=e[16];const K=i==="batal"?"dibatalkan ?":"dikirim ?";let k;e[17]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx("br",{}),e[17]=k):k=e[17];let f;e[18]!==K?(f=t.jsxs(U,{className:"text-pretty py-6 text-center mx-auto",children:["Apakah anda yakin pengajuan akan ",K,k,"Tindakan ini tidak dapat dibatalkan."]}),e[18]=K,e[19]=f):f=e[19];let p;e[20]!==u||e[21]!==f?(p=t.jsxs(Y,{className:"text-center gap-0",children:[u,f]}),e[20]=u,e[21]=f,e[22]=p):p=e[22];let y;e[23]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx(q,{asChild:!0,children:t.jsx(D,{variant:"outline",className:"flex-1 w-full",children:"Batal"})}),e[23]=y):y=e[23];let g;e[24]!==c||e[25]!==C?(g=()=>c(C),e[24]=c,e[25]=C,e[26]=g):g=e[26];const M=i==="batal"?"Ya, batalkan":"Kirim";let h;e[27]!==g||e[28]!==M?(h=t.jsxs("div",{className:"flex gap-2 flex-col sm:flex-row w-full sm:gap-3",children:[y,t.jsx(D,{type:"button",onClick:g,className:"flex-1 w-full",children:M})]}),e[27]=g,e[28]=M,e[29]=h):h=e[29];let x;e[30]!==h||e[31]!==p?(x=t.jsxs(G,{className:"sm:max-w-sm flex flex-col items-center",onInteractOutside:X,children:[v,p,h]}),e[30]=h,e[31]=p,e[32]=x):x=e[32];let S;return e[33]!==B||e[34]!==s||e[35]!==x||e[36]!==d?(S=t.jsxs(J,{open:B,onOpenChange:s,children:[d,x]}),e[33]=B,e[34]=s,e[35]=x,e[36]=d,e[37]=S):S=e[37],S}function X(a){a.preventDefault()}function Z(a){a.flash.status==="success"?(N.reload({only:["daftarPengajuan"]}),w.success(a.flash.message,{position:"bottom-center",style:{"--normal-bg":"var(--background)","--normal-text":"light-dark(var(--color-green-600), var(--color-green-400))","--normal-border":"light-dark(var(--color-green-600), var(--color-green-400))"}})):w.error(a.flash.message,{position:"bottom-center",style:{"--normal-bg":"var(--background)","--normal-text":"var(--destructive)","--normal-border":"var(--destructive)"}})}function ee(a){a.flash.status==="success"?(N.reload({only:["daftarPengajuan"]}),w.success(a.flash.message,{position:"bottom-center",style:{"--normal-bg":"var(--background)","--normal-text":"light-dark(var(--color-green-600), var(--color-green-400))","--normal-border":"light-dark(var(--color-green-600), var(--color-green-400))"}})):w.error(a.flash.message,{position:"bottom-center",style:{"--normal-bg":"var(--background)","--normal-text":"var(--destructive)","--normal-border":"var(--destructive)"}})}export{be as AlertSendPengajuan};
